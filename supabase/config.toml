project_id = "wdpxmwsxhckazwxufttk"

[functions.stripe-webhook]
verify_jwt = false

[functions.customer-portal]
verify_jwt = true

[functions.send-subscription-expiry-notification]
verify_jwt = false

[functions.validate-game-session]
verify_jwt = true

[functions.validate-invitation]
verify_jwt = false

[functions.accept-invitation]
verify_jwt = true

[functions.calculate-weekly-rankings]
verify_jwt = false

[functions.regenerate-lives-background]
verify_jwt = false

[functions.create-payment]
verify_jwt = true

[functions.verify-payment]
verify_jwt = true

[functions.create-subscription]
verify_jwt = true

[functions.check-subscription]
verify_jwt = true

[functions.create-ingame-payment]
verify_jwt = true

[functions.backfill-friendships]
verify_jwt = true

[functions.get-friends]
verify_jwt = true

[functions.send-dm]
verify_jwt = true

[functions.get-thread-messages]
verify_jwt = true

[functions.get-threads]
verify_jwt = true

[functions.get-wallet]
verify_jwt = true

[functions.get-friend-requests]
verify_jwt = true

[functions.process-speed-ticks]
verify_jwt = false

[functions.log-activity-ping]
verify_jwt = true

[functions.admin-activity]
verify_jwt = true

[functions.aggregate-daily-activity]
verify_jwt = false

[functions.complete-game]
verify_jwt = true

# Cron job for automatic life regeneration every minute
[[edge_runtime.cron]]
schedule = "* * * * *"
function = "regenerate-lives-background"

# Cron job for speed tick processing every 30 seconds
[[edge_runtime.cron]]
schedule = "*/30 * * * * *"
function = "process-speed-ticks"

# Cron job for daily activity aggregation every day at 2 AM
[[edge_runtime.cron]]
schedule = "0 2 * * *"
function = "aggregate-daily-activity"

# Cron job for weekly winners processing every Monday at 00:00 Budapest time (23:00 UTC Sunday)
[[edge_runtime.cron]]
schedule = "0 23 * * 0"
function = "process-weekly-winners"

[functions.set-default-country]
verify_jwt = false

[functions.process-weekly-winners]
verify_jwt = false

